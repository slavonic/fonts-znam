\documentclass[11pt]{article}
\usepackage{adjustbox}

\usepackage{polyglossia}
   \setmainlanguage{english}
   \setotherlanguage{churchslavonic}
\usepackage{fontspec,luacolor,metalogo}
\setmainfont[Script=Latin,Ligatures=TeX,HyphenChar=-]{Linux Libertine O}
\setmonofont[Scale=MatchLowercase]{FiraSlav}
\newfontfamily\churchslavonicfont[Script=Cyrillic,Ligatures=TeX,Scale=MatchLowercase,HyphenChar=_]{PonomarUnicode.otf}
\newfontfamily\musicFont[Path=../Mezenets/,Extension=.otf,Scale=1.5]{MezenetsUnicode}
\newfontfamily{\oldstyle}[Path=../Mezenets/,Extension=.otf,Scale=1.5,StylisticSet=1]{MezenetsUnicode}
\newfontfamily{\newstyle}[Path=../Mezenets/,Extension=.otf,Scale=1.5,StylisticSet=2]{MezenetsUnicode}
\newfontfamily{\contracted}[Path=../Mezenets/,Extension=.otf,Scale=1.5,StylisticSet=3]{MezenetsUnicode}
%\newfontfamily{\smol}[Path=../Smolensky/,Extension=.otf,Scale=1.5]{Smolensky-Regular}
\newfontfamily{\smol}[Scale=1.5]{SmolenskyRegular}
\newfontfamily{\archaic}[Scale=MatchLowercase]{Menaion Unicode}
\usepackage{churchslavonic}
\usepackage{cu-kruk}
\usepackage{ruby}
\usepackage{pdfpages}
\usepackage[unicode,
  pdftitle={fonts-znam: fonts for Znamenny Notation},
  pdfauthor={Aleksandr Andreev},
  pdfkeywords={Church Slavonic, Old Church Slavonic, Church Slavic, Znamenny Notation, OpenType, Unicode, Ñ†ĞµÑ€ĞºĞ¾Ğ²Ğ½Ğ¾ÑĞ»Ğ°Ğ²ÑĞ½ÑĞºĞ¸Ğ¹, ÑÑ‚Ğ°Ñ€Ğ¾ÑĞ»Ğ°Ğ²ÑĞ½ÑĞºĞ¸Ğ¹, Ğ·Ğ½Ğ°Ğ¼ĞµĞ½Ğ½Ğ°Ñ Ğ½Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ñ, ĞºÑ€ÑĞºĞ¸, ÑÑ‚Ğ¾Ğ»Ğ¿Ğ¾Ğ²Ğ°Ñ Ğ½Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ñ}
]{hyperref}

\def\fileversion{0.4}
\let\cuKrukFont=\musicFont
\def\pkg#1{\textsf{#1}}
\def\cs#1{\texttt{\textbackslash #1}}
%

\begin{document}
\title{\pkg{fonts-znam} --- fonts for Znamenny Notation}
\author{Aleksandr Andreev and Nikita Simmons\\version~\fileversion}
\date{\today}
\maketitle

\tableofcontents

\section{Introduction}
This package provides OpenType-CFF PostScript fonts (\texttt{.OTF} fonts)
for typesetting Znamenny Musical Notation encoded in Unicode. Znamenny
Notation was proposed for inclusion in Unicode by the authors and has
been accepted for encoding in a future version of the Unicode Standard.
The latest version of the fonts may be downloaded from the
\href{https://sci.ponomar.net/music.html}{Slavonic Computing Initiative website}.

\cuKinovar{Warning}: the characters used to write the Znamenny Musical Notation
\href{http://www.unicode.org/alloc/Pipeline.html}{have been accepted}
for encoding in a future version of the Unicode Standard,
however the codepoints may still be subject to change. As such,
these fonts should be considered BETA-stage software, and should be used
for SOFTWARE-TESTING PURPOSES ONLY.

\cuKinovar{Color Data}: the fonts provide information about the color of some
glyphs (such as the cinnabar marks) via data in the COLR and CPAL tables.
However, COLR / CPAL technology is presently not supported by some software.
Color fonts are supported in \href{https://www.colorfonts.wtf/}{modern browsers
and advanced publishing software} and partially supported in
\href{https://office-watch.com/2019/color-font-support-in-microsoft-office-the-story-so-far/}{Microsoft
Office 365}. Color fonts are not supported in \XeTeX{} or \LuaTeX{}, however
the \pkg{churchslavonic} \LaTeX{} package provides the \texttt{autocolormarks} option,
which uses the \cs{cuKinovar} macro to automatically typeset the cinnabar marks in red.

In other software that does not support color fonts, cinnabar marks will appear in black.
Additionally, attempting to manually color the marks using formatting will generally
break the OpenType glyph positioning rules, leading to improper mark positioning.
You are encouraged to only use the fonts in software that supports color fonts. You
can report your results \href{https://github.com/slavonic/fonts-znam/issues/19}{in
the issue tracker}. The authors plan to add support for OpenType-SVG as well, though
it is not clear that this would improve support in software.

\section{Mezenets Unicode}

Mezenets Unicode is a font intended for typesetting Type~A Znamenny Notation (notation
that includes \emph{priznaki}) and Type~B Notation (notation without
\emph{priznaki}). It also provide glyphs necessary for Put / Demestvenny notation. An example of
Znamenny Notation bearing \emph{priznaki} is presented in Figure~\ref{mezenets}. 
The main neumes of Znamenny Notation are encoded at codepoints indicated in Table~\ref{znampts}
and may be entered directly by codepoint, for example, from a Character Map
utility (this is not recommended), or by using one of the entry methods provided
(see the section on Input Methods, below).

\begin{figure}[tbp]
%\begin{adjustbox}[width=\textwidth]
\begin{churchslavonic}
\noindent
\cuKrukPara[sylRuleHeight=0.02em]{
ğœ½Ÿ ğœ¾†ğœ½‚ğœ¼±ğœ¼‡ ğœ½—ğœ¼† ğœ½ğœ¼±ğœ¼¢ ğœ½–ğœ½ƒğœ¼… ğœ½œğœ¼„ğœ¼¦ ğœ¾–ğœ¼†ğœ¼¤ ğœ½ğœ½ƒğœ¼…ğœ¼¤ğœ½˜ ğœ¾†ğœ½ƒğœ¼±ğœ¼ˆ ğœ½ ğœ¾¬ğœ½ƒğœ¼ˆğœ¼¤ ğœ½–ğœ½ƒğœ¼… ğœ¾’ğœ¼°ğœ¼ºğœ¼†ğœ¼£ ğœ¾–ğœ¼†ğœ¼¤ ğœ¾‹ğœ½ƒğœ¼… ğœ¾†ğœ¼„ ğœ½ğœ¼„ ğœ½ğœ½ƒğœ¼… ğœ½—ğœ½‚ğœ¼„ ğœ½ ğœ½ğœ½ƒğœ¼°ğœ¼… ğœ½–ğœ½ƒğœ¼¢ ğœ½—ğœ½ƒğœ¼¢ ğœ¾†ğœ¾…ğœ¼‡ ğœ½ğœ½‚ğœ¼„ğœ¼¤ğœ½˜ ğœ¾†ğœ½‚ğœ¼±ğœ¼‡ ğœ¾’ğœ½ƒğœ¼±ğœ¼ˆğœ¼¤ ğœ½—ğœ½‚ğœ¼‡ ğœ½ğœ½‚ğœ¼±ğœ¼¢ ğœ½–ğœ¼† ğœ½—ğœ½ƒğœ¼… ğœ½ ğœ¾’ğœ¼°ğœ¼ºğœ¼† ğœ½ğœ½‚ğœ¼„ ğœ½œğœ½ƒğœ¼… ğœ¾†ğœ½‚ğœ¼„ ğœ½—ğœ½ƒğœ¼… ğœ½ ğœ½ğœ½‚ğœ¼±ğœ¼‡ ğœ½œğœ¼† ğœ¾†ğœ½ƒğœ¼… ğœ½ ğœ½ğœ½ƒğœ¼±ğœ¼ˆ ğœ½—ğœ½‚ğœ¼‡ ğœ½ ğœ½ğœ½‚ğœ¼±ğœ¼‡ ğœ½–ğœ¼† ğœ½—ğœ½ƒğœ¼… ğœ½ğœ¼±ğœ¼† ğœ½–ğœ½ƒğœ¼… ğœ½œğœ½‚ğœ¼„ğœ¼¦ ğœ¾–ğœ¼†ğœ¼¤ ğœ¾‹ğœ½ƒğœ¼… ğœ¾
\\
Ñ…Ñ€Ğ¸-ÑÑ‚Ğ¾ÑÑŠ Ñ€Ğ°-Ğ¶Ğ´Ğ°-ĞµÑ‚-ÑÑ§, ÑĞ»Ğ°-Ğ²Ğ¸-Ñ‚Ğµ: Ñ…Ñ€Ğ¸-ÑÑ‚Ğ¾ÑÑŠ ÑÑŠ Ğ½Ğ±ÒƒÑÑŠ, ÑÑ€Ñ§-Ñ‰Ğ¸-Ñ‚Ğµ: Ñ…Ñ€Ğ¸-ÑÑ‚Ğ¾ÑÑŠ Ğ½Ğ° Ğ·Ğµ-Ğ¼Ğ»Ğ¸, Ğ²Ğ¾Ğ·-Ğ½Ğ¾-ÑĞ¸-Ñ‚Ğµ-ÑÑ§. Ğ¿Ğ¾Ğ¸-Ñ‚Ğµ Ğ³Ğ¾-ÑĞ¿Ğ¾-Ğ´Ğµ-Ğ²Ğ¸ Ğ²ÑÑ§-~ Ğ·Ğµ-Ğ¼Ğ»Ñ§, Ğ¸ Ğ²Ğµ-ÑĞµ-Ğ»Ñ–-ĞµĞ¼ÑŠ Ğ²Ğ¾Ñ-Ğ¿Ğ¾--Ğ¸Ñ‚Ğµ Ğ»Ñ-Ğ´Ñ–-Ğµ, ê™—-ĞºÑ¡ Ğ¿Ñ€Ğ¾-ÑĞ»Ğ°-Ğ²Ğ¸-ÑÑ§.
}
\end{churchslavonic}
\caption{Example of Type~A Znamenny Notation \label{mezenets}}
%\end{adjustbox}
\end{figure}

\subsection{Black and Red Modifier Marks}

All modifying marks are entered following the base neume that they modify and
are positioned by the rendering system in accordance with the anchor points
provided in the font. This includes the cinnabar pitch marks, which are still
entered following the base neume, even though they are generally positioned
to the left of the neume that they modify.

\begin{figure}[h]
\centering
\begin{tabular}{lcl}
\large{  {\musicFont ğœ½}  + {\musicFont â—Œğœ¼°} } & \large â†’ & {\large { \musicFont ğœ½ğœ¼° } }  \\
\large{  {\musicFont ğœ½}  + {\musicFont â—Œğœ¼¦} } & \large â†’ & {\large { \musicFont ğœ½ğœ¼¦ } }  \\
\large{  {\musicFont ğœ½}  + {\musicFont â—Œğœ¼‡} } & \large â†’ & {\large { \musicFont ğœ½ğœ¼‡ } }   \\
\end{tabular}
\end{figure}

\textbf{Note}: The font provides both left-attaching and right-attaching cinnabar
pitch marks. The left-attaching pitch marks (which are standard) are encoded in
Unicode at the codepoints U+1CF00 to U+1CF0B. The right-attaching pitch marks
are rarely encountered in standard Znamenny Notation; they are encoded at the
codepoints U+1CF0C to U+1CF17.

\begin{figure}[h]
\centering
\begin{tabular}{lcl}
\large
\ruby{\ttfamily \tiny 1CF57}{\musicFont \large ğœ½—}
+
\ruby{\ttfamily \tiny 1CF06}{\musicFont \large â—Œğœ¼†}
+
\ruby{\ttfamily \tiny 1CF10}{\musicFont \large â—Œğœ¼}
 & \large â†’ & {\large { \musicFont ğœ½—ğœ¼†ğœ¼ } }  \\
\end{tabular}
\end{figure}

Multiple modifying marks may be entered following any base neume. Generally speaking,
the rendering system will position the marks correctly in accordance with the anchor
points specified in the font for each mark. It is expected that the combining marks
are encoded in the order given in Table~\ref{entry}. Note that the \emph{priznak}
control modifiers, if present, must be entered directly following the base neume
(see below for more information).

\begin{table}[htb]
\centering
\caption{Order of encoding (from left to right) \label{entry}}
\begin{adjustbox}{max width=0.75\textwidth}
\begin{tabular}{ccccccc}
 \rotatebox{65}{\textbf{Base Neumes}} & \rotatebox{65}{\textbf{Control Characters}} & \rotatebox{65}{\textbf{Black Pitch Marks}} & \rotatebox{65}{\textbf{Black Modification Marks}}	& \rotatebox{65}{\textbf{Left-Attaching Pitch Marks}} & \rotatebox{65}{\textbf{Red Modification Marks}} & \rotatebox{65}{\textbf{Right-Attaching Pitch Marks}} \\

{\Huge \musicFont \char"1CF50}		& {\Huge \musicFont \char"1CF42} & {\Huge \musicFont â—Œ\char"1CF30}	&  {\Huge \musicFont â—Œ\char"1CF33}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF00}} 	& {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF22}}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF0C}} \\

{\Huge \musicFont \char"1CF52}		& {\Huge \musicFont \char"1CF43} & {\Huge \musicFont â—Œ\char"1CF31}	&  {\Huge \musicFont â—Œ\char"1CF35}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF01}}	& {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF23}}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF0D}} \\

{\Huge \musicFont \char"1CF53}		& {\Huge \musicFont \char"1CF44} 	& {\Huge \musicFont â—Œ\char"1CF32}	&  {\Huge \musicFont â—Œ\char"1CF36}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF02}} & {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF24}}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF0E}} \\

{\Huge \musicFont \char"1CF6F}		&  				 & 					& 	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF03}}	& {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF25}}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF0F}} \\

{\Huge \musicFont \char"1CF86}		&  				 & 					&  {\Huge \musicFont â—Œ\char"1CF38}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF04}} & {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF26}} &  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF10}}		\\

{\Huge \musicFont \char"1CF92}		&  				 & 					&  {\Huge \musicFont â—Œ\char"1CF39}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF05}}	& {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF27}} &  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF11}}	\\

{\Huge \musicFont \char"1CFA2}		&  				 & 					&  {\Huge \musicFont â—Œ\char"1CF3A}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF06}}	& {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF28}} &  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF12}} 	\\

{\Huge \musicFont \char"1CFAC}		&  				 & 					&  {\Huge \musicFont â—Œ\char"1CF3B} &  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF07}} & {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF29}}	&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF13}} \\

{\Huge \musicFont \char"1CFAD}		&  				 & 					&  {\Huge \musicFont â—Œ\char"1CF3C} &  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF08}}	 & {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF2A}}&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF14}}		\\

{\Huge \musicFont \char"1CFAF}		&  				 & 					&  {\Huge \musicFont â—Œ\char"1CF3D} &  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF09}}	 & {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF2B}}&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF15}}	\\

{\Huge \musicFont \char"1CFC1}		&  				 & 					&  					&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF0A}}	& {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF2C}} &  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF16}}	\\

{\Huge \musicFont \char"1CFC3}		&  				 & 					&  					&  {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF0B}}	& & {\Huge \musicFont â—Œ\textcolor{kinovar}{\char"1CF17}}	\\

{ \emph{etc.} }		&  				 & 					&  					&  	&  &	\\

\end{tabular}
\end{adjustbox}
\end{table}

Multiple combining pitch marks may be applied to a single neume, in which case
the marks interact typographically and are stacked diagonally along the main beam
of the neume:

\begin{figure}[h]
\centering
\begin{tabular}{lcl}
\large{  {\musicFont ğœ¾’}  + {\musicFont â—Œğœ¼†} + {\musicFont â—Œğœ¼‡} } & \large â†’ & {\large { \musicFont ğœ¾’ğœ¼†ğœ¼‡ } }  \\
\end{tabular}
\end{figure}

\noindent The Tonal Range marks encoded at U+1CF30 to U+1CF32 may
form ligatures in certain instances:

\begin{center}
\begin{tabular}{lcl}
\large{  {\musicFont ğœ½}  + {\musicFont â—Œğœ¼°} } & \large â†’ & {\large { \musicFont ğœ½ğœ¼° } }  \\
\large{  {\musicFont ğœ¾†}  + {\musicFont â—Œğœ¼°} } & \large â†’ & {\large { \musicFont ğœ¾†ğœ¼° } }
\end{tabular}
\end{center}

\subsection{Support for Priznaki}

The priznaki are tiny markers (narrow slashes or dashes) that are added
to the base neume to clarify its pitch within a Tonal Range (tetrachord).
For neumes pitched at the first scale degree of a Tonal Range (as indicated 
by a cinnabar mark {\musicFont â—Œğœ¼€}, {\musicFont â—Œğœ¼ƒ}, {\musicFont â—Œğœ¼†}, or {\musicFont â—Œğœ¼‰}),
no additional mark is added. For neumes pitched at the second scale degree
(as indicated by a cinnabar mark {\musicFont â—Œğœ¼}, {\musicFont â—Œğœ¼„}, {\musicFont â—Œğœ¼‡},
or {\musicFont â—Œğœ¼Š}), a mark is placed on the left or lower part of the neume.
For neumes pitched at the third scale degree (as indicated by a cinnabar mark 
{\musicFont â—Œğœ¼‚}, {\musicFont â—Œğœ¼…}, {\musicFont â—Œğœ¼ˆ}, or {\musicFont â—Œğœ¼‹}), a mark is
placed on the right or upper part of the neume. For some neumes, the priznaki may
attach to the tonal range markers placed above the neume rather
than to the base neume itself.

Priznaki are supported by the use of control characters. Two control characters
are available, U+1CF42 Znamenny Priznak Modifier Level~2 and
U+1CF43 Znamenny Priznak Modifier Level~3, which are used to indicate the second and
third scale degrees, respectively. The presence of a Priznak Modifier indicates
that a priznak for the given scale degree should be turned on.
The absence of a Priznak Modifier indicates either that a neume is pitched at the
first scale degree of a tonal range (which is indicated by an absence of priznaki)
or that Type~B or Type~C Notation is being encoded
(where priznaki are not used at all).
The prinzak modifiers should be entered immediately following the base neume to
which they apply, even if the actual priznak attaches to the tonal range marks.

\begin{figure}[h]
\centering
%\caption{Encoding model for Priznaki \label{priznakusage}}
\begin{tabular}{cccccccccl}
\large
\ruby{\ttfamily \tiny U+1CF50}{\musicFont \large \char"1CF50} & {\large +} & 
\large \ruby{\ttfamily \tiny U+1CF30}{\musicFont \large â—Œğœ¼°}
& {\large + } &  
\large \ruby{\ttfamily \tiny U+1CF04}{\musicFont \large â—Œğœ¼„} & & & {\large â†’ } &
\musicFont \large ğœ½ğœ¼°ğœ¼„  & \emph{no priznaki} \\
\large \ruby{\ttfamily \tiny U+1CF50}{\musicFont \large ğœ½} & \large + &
\large \ruby{\ttfamily \tiny U+1CF42}{\musicFont \large ğœ½‚} & \large + &
\large \ruby{\ttfamily \tiny U+1CF30}{\musicFont \large â—Œğœ¼°} & {\large +} & 
\large \ruby{\ttfamily \tiny U+1CF04}{\musicFont \large â—Œğœ¼„} & {\large â†’} &
\musicFont \large ğœ½ğœ½‚ğœ¼°ğœ¼„ & \emph{with lower priznak} \\
\large \ruby{\ttfamily \tiny U+1CF86}{\musicFont \large ğœ¾†} & {\large +} & 
\large \ruby{\ttfamily \tiny U+1CF42}{\musicFont \large ğœ½‚}  & {\large +} & 
\large \ruby{\ttfamily \tiny U+1CF30}{\musicFont \large â—Œğœ¼°} & {\large +} &
\large \ruby{\ttfamily \tiny U+1CF04}{\musicFont \large â—Œğœ¼„} & {\large â†’} &
\musicFont \large ğœ¾†ğœ½‚ğœ¼°ğœ¼„ &  \emph{with left priznak} \\
\large \ruby{\ttfamily \tiny U+1CF50}{\musicFont \large ğœ½} & {\large +} &
\large \ruby{\ttfamily \tiny U+1CF43}{\musicFont \large ğœ½ƒ} & {\large + } &
\large \ruby{\ttfamily \tiny U+1CF30}{\musicFont \large â—Œğœ¼°} & {\large +} & 
\large \ruby{\ttfamily \tiny U+1CF05}{\musicFont \large â—Œğœ¼…} & {\large â†’} &
\musicFont \large ğœ½ğœ½ƒğœ¼°ğœ¼… & \emph{with upper priznak} \\
\large \ruby{\ttfamily \tiny U+1CF86}{\musicFont \large ğœ¾†} & {\large +} &
\large \ruby{\ttfamily \tiny U+1CF43}{\musicFont \large ğœ½ƒ} & {\large +} &
\large \ruby{\ttfamily \tiny U+1CF30}{\musicFont \large â—Œğœ¼°} & {\large +} &
\large \ruby{\ttfamily \tiny U+1CF05}{\musicFont \large â—Œğœ¼…} & {\large â†’} &
\musicFont \large ğœ¾†ğœ½ƒğœ¼°ğœ¼… &  \emph{with right priznak} \\
% TODO: add malformed example
%{\musicFont \Huge \char"1CF86} & {\large +} & {\musicFont \Huge \char"25CC\char"1CF30} & {\large +} & {\musicFont \Huge \char"1CF43} & {\large +} & {\musicFont \Huge \char"00A0\char"25CC\textcolor{kinovar}{\char"1CF05}} & {\large â†’} & {\musicFont \Huge \char"1CF86\char"1CF30\char"200C\char"1CF43\textcolor{kinovar}{\char"1CF05}} &  \emph{malformed} \\
%{\tiny \ttfamily U+1CF86} & & {\tiny \ttfamily U+1CF30} & & {\tiny \ttfamily U+1CF43} & & {\tiny \ttfamily U+1CF05} & & \\
\end{tabular}
\end{figure}

The Mezents font also provides additional support for the more complex system of
Priznaki used in the \emph{Krug} of Arseny Morozov. For this purpose, the
additional control character U+1CF44 Priznak Modifier Direction Flip may be entered,
which modifies the direction of the priznak:

\begin{figure}[h]
\centering
\begin{tabular}{lcl}
\large{  {\musicFont ğœ½}  + {\musicFont ğœ½‚} } & \large â†’ & {\large { \musicFont ğœ½ğœ½‚ } }  \\
\large{  {\musicFont ğœ½}  + {\musicFont ğœ½‚} + {\musicFont ğœ½„} } & \large â†’ & {\large { \musicFont ğœ½ğœ½‚ğœ½„ } }  \\
\end{tabular}
\end{figure}

\noindent Note that the Zapyataya has additional priznakified forms that may be
accessed by using the Priznak Modifier Direction Flip control character:

[Figure 16 from the Proposal will go here]

\textbf{Note}: the precomposed priznakified glyphs are encoded in the
Private Use Area (PUA) at codepoints U+EB60 to U+EBFF. They can be accessed directly
in settings where relying on OpenType features is not possible or not desirable. See
the seciton on PUA usage, below.

\subsection{Demestvenny / Put Notation}

\begin{figure}[t]
%\begin{adjustbox}[width=\textwidth]
\let\cuKrukFont=\newstyle
\begin{churchslavonic}
\noindent
\cuKrukPara[sylRuleHeight=0.02em]{
ğœ½›ğœ¼†ğœ¼“ ğœ¾†ğœ¼ˆğœ¾©ğœ¼¢ğœ½ğœ¼¶ ğœ½ğœ½‚ğœ¼‡ ğœ½ğœ½‚ğœ¼¢ ğœ½›ğœ½ƒğœ¼ˆğœ¼‰ ğœ½–ğœ½ƒğœ¼ˆ ğœ½µğœ¼¢ğœ¼¥ ğœ¾†ğœ½‚ğœ¼±ğœ¼‡ ğœ½–ğœ½€ğœ¼† ğœ½›ğœ¼† ğœ½–ğœ½ƒğœ¼ˆ ğœ½”ğœ½€ğœ½€ğœ¼‰ ğœ½ğœ½”ğœ¼»ğœ¼Š ğœ½ğœ¼¤ğœ½ğœ½ƒğœ¼ˆ ğœ½–ğœ½ƒğœ½€ğœ¼ˆ ğœ½›ğœ½ƒğœ¼ˆ ğœ½–ğœ½‚ğœ¼Š ğœ½µğœ¼¢ğœ¼¥ ğœ½–ğœ¼‰ ğœ½–ğœ½€ğœ¼¢ ğœ½ğœ½‚ğœ¼‡ ğœ½–ğœ¼‰ ğœ½›ğœ½ƒğœ¼ˆğœ¼’ ğœ¾†ğœ¼±ğœ¼Š ğœ¾©ğœ¼¾ğœ¼¢ğœ½ğœ¼ˆğœ½”ğœ¼»ğœ¼Š ğœ½ğœ¼¤ğœ½ğœ½ƒğœ¼ˆ ğœ½ğœ½‚ğœ¼ˆ ğœ½›ğœ½ƒğœ¼ˆğœ¼‰ ğœ½–ğœ½ƒğœ¼ˆ ğœ½µğœ¼¢ğœ¼¥ ğœ¾†ğœ¼‡ğœ¾©ğœ½€ğœ¼¢ ğœ½”ğœ¼† ğœ½¤ğœ¼…ğœ¼‡ ğœ½šğœ¼¢ ğœ¾†ğœ½ƒğœ¼±ğœ¼ˆ ğœ½ğœ¼»ğœ¼† ğœ¾ğœ¼„
\\
Ñ‚Ğ²Ğ¾-Ñ€Ñ§-Ğ¸ Ğ°---Ğ½Ğ³Ğµ-Ğ»Ñ‹ ÑĞ²Ğ¾-Ñ§ Ğ´ê™‹---Ñ…Ğ¸ Ğ¸ ÑĞ»ê™‹-Ğ³Ğ¸- ÑĞ²Ğ¾-Ñ§- Ñ¡----Ğ³Ğ½ÑŒ Ğ¿Ğ°--Ğ»Ñ§--------Ñ‰ÑŒ.
}
\end{churchslavonic}
\caption{Example of Demestvenny Notation \label{demestvenny}}
%\end{adjustbox}
\let\cuKrukFont=\musicFont
\end{figure}

The Mezenets Unicode font also provides the characters necessary for typesetting
Demestvenny / Put (Kazan) Notations; an example is presented in Figure~\ref{demestvenny}. In addition, the system of priznaki used in the older Put Notation
is supported via the two additional control characters U+1CF45 Priznak Modifier
Kryzh and U+1CF46 Priznak Modifier Rog:

\begin{figure}[h]
\centering
\begin{tabular}{lcl}
\large{  {\musicFont ğœ½}  + {\musicFont ğœ½…} } & \large â†’ & {\large { \musicFont ğœ½ğœ½… } }  \\
\large{  {\musicFont ğœ½}  + {\musicFont ğœ½†} } & \large â†’ & {\large { \musicFont ğœ½ğœ½† } }  \\
\end{tabular}
\end{figure}

\noindent Note that support of ligatures used in Demestvenny Notation requires
the use of one of the stylistic sets described below (see Font Features).

\subsection{Font Features}

The Mezenets Unicode font provides the following stylistic sets:

\begin{itemize}
\item \textbf{ss01} (Stylistic Set 1) -- Old-style Demestvenny. This stylistic set turns
on kerning rules that force adjoining neumes to make ligatures, as is customary
in Demestvenny Notation. At the same time, the Zanozhek, Mechik, and other neumes 
are typeset in the old style, commonly found in the manuscript tradition.

\begin{center}
\begin{tabular}{lr}
Regular         & {\musicFont ğœ½ğœ¼†ğœ½–ğœ¼¢ ğœ¾©ğœ¼¾ğœ¼†ğœ½ ğœ¾©ğœ¼ˆğœ¾«ğœ¼“} \\
\textbf{ss01}   & {\oldstyle ğœ½ğœ¼†ğœ½–ğœ¼¢ ğœ¾©ğœ¼¾ğœ¼†ğœ½ ğœ¾©ğœ¼ˆğœ¾«ğœ¼“} \\
\end{tabular}
\end{center}

\item \textbf{ss02} (Stylistic Set 2) -- New-style Demestvenny. This stylistic set turns
on kerning rules that force adjoining neumes to make ligatures, as is customary
in Demestvenny Notation. The Zanozhek, Mechik, and other neumes are typeset in the
new style, as used in the Demestvenny Azbuka printed by L.~Kalashnikov.

\begin{center}
\begin{tabular}{lr}
Regular         & {\musicFont ğœ½ğœ¼†ğœ½–ğœ¼¢ ğœ¾©ğœ¼¾ğœ¼†ğœ½ ğœ¾©ğœ¼ˆğœ¾«ğœ¼“} \\
\textbf{ss02}   & {\newstyle ğœ½ğœ¼†ğœ½–ğœ¼¢ ğœ¾©ğœ¼¾ğœ¼†ğœ½ ğœ¾©ğœ¼ˆğœ¾«ğœ¼“} \\
\end{tabular}
\end{center}

\item \textbf{ss03} (Stylistic Set 3) -- New-style Contracted Demestvenny. This stylistic
set turns on additional kerning rules that force some adjoining neumes to make
contracted ligatures. The Zanozhek, Mechik, and other neumes are typeset in the
new style, as used in the Demestvenny Azbuka printed by L.~Kalashnikov.

\begin{center}
\begin{tabular}{lr}
Regular         & {\musicFont ğœ½ğœ¼†ğœ½–ğœ¼¢ ğœ¾©ğœ¼¾ğœ¼†ğœ½ ğœ¾©ğœ¼ˆğœ¾«ğœ¼“} \\
\textbf{ss03}   & {\contracted ğœ½ğœ¼†ğœ½–ğœ¼¢ ğœ¾©ğœ¼¾ğœ¼†ğœ½ ğœ¾©ğœ¼ˆğœ¾«ğœ¼“} \\
\end{tabular}
\end{center}

\item \textbf{ss04} (Stylistic Set 4) -- Render cinnabar marks in black. This stylistic
set turns off the coloring of cinnabar marks specified by the COLR and CPAL tables and
renders them in black. \cuKinovar{NB}: turning on this feature will have a visible
effect only in software that supports color fonts.

\begin{center}
\begin{tabular}{lr}
Regular             & {\musicFont ğœ½ğœ¼†ğœ½–ğœ¼¢ ğœ¾©ğœ¼¾ğœ¼†ğœ½ ğœ¾©ğœ¼ˆğœ¾«ğœ¼“} \\
\textbf{ss04}       & {\musicFont ğœ½î¸†ğœ½–î¸² ğœ¾©ğœ¼¾î¸†ğœ½ ğœ¾©î¸ˆğœ¾«î¸§} \\
\end{tabular}
\end{center}

\end{itemize}

In \XeTeX{} and \LuaTeX{}, features may be turned on using methods provided in the
\pkg{fontspec} package, for example:

\begin{verbatim}
\newfontfamily{\znamFont}
      [StylisticSet=1]{Mezenets Unicode}
\end{verbatim}

\noindent Please consult the \pkg{fontspec} documentation for more information.

In LibreOffice, Stylistic Sets and other advanced OpenType features are available
starting with version 4.1. However, there is no graphical interface that can be used
to turn these features on and off. Instead, a special extended font name
syntax has been developed: in order to activate an optional feature, its ID,
followed by (optionally) an equals sign and the ID of the desired setting, are appended
directly to the font name string. An amperstand is used to separate
different feature/settings pairs. For example, setting the font to the following
will enable Stylistic Set~1:

\begin{verbatim}
Mezenets Unicode:ss01
\end{verbatim}

\section{Shaidur Unicode}

Lorem ipsum

\section{Smolensky Unicode}

\begin{figure}[t]
%\begin{adjustbox}[width=\textwidth]
\begin{churchslavonic}
\archaic
\noindent
\let\cuKrukFont=\smol
\cuKrukPara[sylRuleHeight=0.02em]{
ğœ½’ ğœ½ ğœ½– ğœ½– ğœ½ğœ¼± ğœ½– ğœ½– ğœ½– ğœ½– ğœ½ ğœ½ ğœ½œ ğœ¾ ğœ¾† ğœ¾† ğœ½– ğœ½– ğœ½˜ ğœ½– ğœ½ğœ¼° ğœ½œ ğœ½« ğœ½– ğœ½– ğœ½ğœ¼° ğœ½– ğœ½– ğœ¾µ ğœ¾† ğœ¾† ğœ½ ğœ½ğœ¼± ğœ½– ğœ½– ğœ½ ğœ½– ğœ½ğœ¼° ğœ½– ğœ½– ğœ½– ğœ½– ğœ½ğœ¼° ğœ½– ğœ½ ğœ½– ğœ¾†ğœ¼± ğœ½– ğœ½– ğœ½ ğœ½– ğœ½– ğœ½– ğœ½œ ğœ¾ ğœ¾† ğœ¾
\\
ĞšĞ¾-Ğ½Ñ§ Ğ¸ Ğ²ÑŠ-ÑĞ°-Ğ´ÑŒ-Ğ½Ğ¸-ĞºĞ¸Â· Ğ²ÑŠ Ğ¼Ğ¾-Ñ€Ğµ Ñ‡ÑŒ-Ñ€Ğ¼ÑŒ-Ğ½Ğ¾-Ñ¥Â· ÑÑŠ-ĞºÑ€á²‚Ñƒ-ÑˆĞ°-ê™—-Ğ¸ Ğ±Ñ€Ğ°-Ğ½Ğ¸Â· Ğ¼ê™‘-ÑˆĞµ-Ñ†Ğµ-Ñ Ğ²ê™‘-ÑĞ¾-ĞºĞ¾-ÑÂ· Ñ…Ñ€Ğ¸-ÑÑ‚Ğ¾-ÑÑŠ Ğ¸Ñ-Ñ‚Ñ€Ñ§-ÑĞ»ÑŠ Ñ¥-ÑÑ‚ÑŒÂ· Ğ¸ê™-Ğ´Ñ€Ğ°-Ğ¸-Ğ»Ñ§ Ğ¶Ğµ ÑÑŠ-Ğ¿Ğ°-ÑĞµÂ· Ğ¿Ğ¾-Ğ±Ñ£-Ğ´ÑŒ-Ğ½á²‚Ñƒ-Ñ Ğ¿Ñ£Ñ-Ğ½ÑŒ Ğ¿Ğ¾-Ñ-Ñ‰â˜
}
\end{churchslavonic}
\caption{Example of Archaic Znamenny Notation (Hirmologion of Grigorovich) \label{smolensky}}
%\end{adjustbox}
\end{figure}

Smolensky Unicode is a font intended for the typesetting of archaic Znamenny Notation
as found in musical manuscripts of the 12\textsuperscript{th}--15\textsuperscript{th}
centuries. The font is named after the renowned Russian musicologist,
choir director and composer
\href{https://en.wikipedia.org/wiki/Stepan_Smolensky}{Stepan Smolensky}.
The glyphs were traced on the basis of photographs of the following manuscripts:

\begin{itemize}
\item Hirmologion of Grigorovich (Chilandar 308, RSL Grig. 37, NLR Q.Ğ¿.I.75)
\item St. Petersburg Sticherarion (RASL 34.7.6)
\item Novgorod Sticherarion (NLR Sof. 384)
\end{itemize}

\textbf{Note that}: this font does not provide any glyphs for the cinnabar marks,
for neumes used in Demestvenny / Put Notation, or any support for priznaki, as these
are entirely anachronistic to the intended period. The font is primarily of
interest to Slavic musicologists studying early Slavic musical manuscripts.
An example of text typeset in this font is presented in Figure~\ref{smolensky}.

\clearpage
\phantomsection
\addcontentsline{toc}{section}{Codecharts}
\includepdf[pages=-]{charts.pdf}

\end{document}